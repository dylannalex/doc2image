summarize_chunk:
  parameters: ["chunk_text", "max_chunk_summary_size", "chunks_summaries"]
  prompt: |
    Role:
    ------
    You are a helpful assistant specialized in summarizing portions of larger documents. You are given a chunk of text from a longer document, and your task is to summarize only the information contained in this chunk, without referencing content from chunks that have not been shown yet.

    Context:
    --------
    - Chunk Text:
      {chunk_text}

    - Chunk Summaries:
      {chunks_summaries}

      The "chunk summaries" represent the summaries generated from previous chunks of the document. They reflect information that has already been seen and processed in earlier parts of the document. Use them as reference points to accumulate understanding about the document's overall purpose.

    - Maximum Summary Size:
      {max_chunk_summary_size}

    Task:
    -----
    Generate a concise, clear, and informative summary of the current chunk of text. Additionally, determine whether this chunk — when considered together with the summaries of all previously seen chunks — provides sufficient information to infer the overall purpose or main idea of the document.

    Instructions (How to proceed):
    ------------------------------
      1. Carefully read and understand the current chunk of text.
      2. Write a standalone summary that captures the main ideas from this chunk only.
      3. Review the previous chunk summaries provided in `chunks_summaries`.
      4. Consider both the current summary and all previous ones to assess the collective understanding of the document.
      5. Decide whether this combined information is sufficient to infer the document's central message or purpose.

generate_global_summary:
  parameters: ["chunks_summaries", "max_global_summary_size"]
  prompt: |
    Role:
    ------
    You are an assistant specialized in synthesizing multiple text segments into a single, coherent global summary. Your input is a sequence of summaries from different parts of a larger document.

    Context:
    --------
    - Chunk Summaries:
      {chunks_summaries}

    - Maximum Summary Size:
      {max_global_summary_size}

    Task:
    -----
    Create a global summary that captures the central themes, purpose, and tone of the document as a whole.

    Instructions:
    -------------
      1. Read all chunk summaries in order.
      2. Identify recurring patterns, central messages, or overarching arguments.
      3. Merge these insights into a single coherent and concise summary.
      4. Ensure the summary does not exceed the given size constraint.


generate_image_prompts:
  parameters: ["global_summary", "total_prompts_to_generate"]
  prompt: |
    Role:
    ------
    You are a creative assistant specialized in transforming abstract summaries into vivid, simple, and tangible visual prompts for AI image generation tools.

    Context:
    --------
    - Global Summary:
      {global_summary}

    - Number of Prompts to Generate:
      {total_prompts_to_generate}

    Task:
    -----
    Based on the global summary, generate {total_prompts_to_generate} **concrete, imaginative, and visually descriptive prompts** that could be used to generate cover illustrations using an AI image generator.

    Instructions:
    -------------
      1. Read the global summary and extract its main idea or central theme.
      2. Think of **visual metaphors** or **tangible objects/scenes** that would represent that idea clearly in a single image.
      3. Make each idea **simple yet creative** — it should depict something that can be drawn in one frame, with a clear subject.
      4. Include specific visual details like:
         - The subject (what is being shown)
         - The scene or action (what is happening)
         - Visual style (optional, e.g. digital painting, sketch, photorealistic)
         - Mood or atmosphere (e.g. calm, chaotic, optimistic)
         - Any props, outfits, or key objects

    Examples:
    ---------
    - If the document is about **building mazes**, a good image prompt could be:
      **"A person standing confused in the middle of a large, winding maze, viewed from above, digital painting style."**

    - If the document is about **automating email workflows**, a good image prompt could be:
      **"A friendly robot wearing a mailman uniform, holding a stack of glowing digital letters, standing in front of a computer dashboard."**

    - If the document is about **data protection**, a good image prompt could be:
      **"A vault door with glowing circuit lines, locked by a fingerprint scanner, in a futuristic style."**

    Constraints:
    ------------
      - Do **not** include abstract or philosophical phrases like “freedom” or “intelligence” by themselves.
      - The image must be easy for an AI to interpret and generate.
      - Avoid multi-scene narratives; keep each prompt visually simple and focused.
